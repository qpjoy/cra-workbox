[{"E:\\workspace\\qpjoy\\cra-workbox\\src\\serviceWorkerRegistration.ts":"1","E:\\workspace\\qpjoy\\cra-workbox\\src\\App.tsx":"2","E:\\workspace\\qpjoy\\cra-workbox\\src\\index.tsx":"3","E:\\workspace\\qpjoy\\cra-workbox\\src\\states\\common.tsx":"4","E:\\workspace\\qpjoy\\cra-workbox\\src\\states\\reducer.tsx":"5","E:\\workspace\\qpjoy\\cra-workbox\\src\\reportWebVitals.ts":"6","E:\\workspace\\qpjoy\\cra-workbox\\src\\apollo\\cache.tsx":"7","E:\\workspace\\qpjoy\\cra-workbox\\src\\utils\\constants.tsx":"8","E:\\workspace\\qpjoy\\cra-workbox\\src\\apollo\\apollo-set-server.tsx":"9","E:\\workspace\\qpjoy\\cra-workbox\\src\\utils\\index.tsx":"10","E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\Loading\\Dotdotdot.tsx":"11","E:\\workspace\\qpjoy\\cra-workbox\\src\\router.tsx":"12","E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\SuspenseBox\\index.tsx":"13","E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\LayoutBox\\index.tsx":"14","E:\\workspace\\qpjoy\\cra-workbox\\src\\pages\\404\\index.tsx":"15","E:\\workspace\\qpjoy\\cra-workbox\\src\\pages\\landing\\login\\editorLogin\\index.tsx":"16"},{"size":5398,"mtime":1610466946627,"results":"17","hashOfConfig":"18"},{"size":921,"mtime":1610531233678,"results":"19","hashOfConfig":"18"},{"size":623,"mtime":1610530106750,"results":"20","hashOfConfig":"18"},{"size":1057,"mtime":1610602927320,"results":"21","hashOfConfig":"18"},{"size":684,"mtime":1610549438401,"results":"22","hashOfConfig":"18"},{"size":440,"mtime":1610466430494,"results":"23","hashOfConfig":"18"},{"size":1311,"mtime":1610519796483,"results":"24","hashOfConfig":"18"},{"size":113,"mtime":1610527530465,"results":"25","hashOfConfig":"18"},{"size":1802,"mtime":1610521290769,"results":"26","hashOfConfig":"18"},{"size":2998,"mtime":1610529837853,"results":"27","hashOfConfig":"18"},{"size":3024,"mtime":1610529934122,"results":"28","hashOfConfig":"18"},{"size":980,"mtime":1610610492776,"results":"29","hashOfConfig":"18"},{"size":193,"mtime":1610601162878,"results":"30","hashOfConfig":"18"},{"size":322,"mtime":1610591924178,"results":"31","hashOfConfig":"18"},{"size":384,"mtime":1610602007968,"results":"32","hashOfConfig":"18"},{"size":168,"mtime":1610610944310,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"10y9ih0",{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\workspace\\qpjoy\\cra-workbox\\src\\serviceWorkerRegistration.ts",[],["72","73"],"E:\\workspace\\qpjoy\\cra-workbox\\src\\App.tsx",["74"],"import React, { useState, useEffect } from \"react\";\r\nimport CommonProvider from \"@/states/common\";\r\n\r\nimport { apolloSetClient } from \"@/apollo/apollo-set-server\";\r\nimport { getQSInfo } from \"@/utils\";\r\nimport Dotdotdot from \"@/components/Loading/Dotdotdot\";\r\n\r\nfunction App() {\r\n  const [client, setClient] = useState(undefined as any);\r\n\r\n  let QS = getQSInfo();\r\n  console.log(QS, \" - - - - - - this is QS\");\r\n\r\n  let token: string = QS[\"token\"] || \"\";\r\n  let api: string = QS[\"api\"];\r\n\r\n  let _client = apolloSetClient({\r\n    api,\r\n    token,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setClient(_client);\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   setTimeout(() => {\r\n  //     document.title = \"cra workbox!\";\r\n  //   }, 3000);\r\n  // }, []);\r\n\r\n  if (!client) {\r\n    return <Dotdotdot />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CommonProvider client={client} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\workspace\\qpjoy\\cra-workbox\\src\\index.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\states\\common.tsx",["75"],"import { ApolloProvider } from \"@apollo/client\";\r\nimport React, { createContext, useReducer, useEffect } from \"react\";\r\nimport reducer from \"@/states/reducer\";\r\nimport Router from \"@/router\";\r\n\r\nexport const CommonContext = createContext<any>(null);\r\nexport const init = (initialState: any) => {\r\n  return initialState;\r\n};\r\n\r\nconst CommonProvider = (props: any) => {\r\n  const { client } = props;\r\n\r\n  const commonInfo = {\r\n    version: \"v.0.0.0.1\",\r\n  };\r\n\r\n  const initialState = {\r\n    commonInfo,\r\n    client,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState, init);\r\n\r\n  // setTimeout(() => {\r\n  //   dispatch({\r\n  //     type: \"RESET\",\r\n  //     payload: {\r\n  //       msg: \"123\",\r\n  //     },\r\n  //   });\r\n  // }, 5000);\r\n\r\n  return (\r\n    <CommonContext.Provider\r\n      value={{\r\n        ...state,\r\n        a: \"b\",\r\n        commonDispatch: dispatch,\r\n      }}\r\n    >\r\n      <ApolloProvider client={client}>\r\n        <Router />\r\n      </ApolloProvider>\r\n    </CommonContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CommonProvider;\r\n","E:\\workspace\\qpjoy\\cra-workbox\\src\\states\\reducer.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\reportWebVitals.ts",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\apollo\\cache.tsx",["76"],"import {\r\n  InMemoryCache,\r\n  Reference,\r\n  defaultDataIdFromObject,\r\n} from '@apollo/client';\r\nimport { concatPagination } from '@apollo/client/utilities';\r\nimport { AUTH_TOKEN } from '@/utils/constants';\r\n\r\nexport const cache: InMemoryCache = new InMemoryCache({\r\n  dataIdFromObject: (object) => {\r\n    let objectKey: any = '';\r\n    switch (object.__typename) {\r\n      case 'DisplayUserInfo':\r\n        objectKey = object['userID'];\r\n        break;\r\n      default:\r\n        objectKey =\r\n          defaultDataIdFromObject(object) ||\r\n          `${object.__typename}: ${object._id}`;\r\n    }\r\n    return objectKey;\r\n  },\r\n  typePolicies: {\r\n    Query: {\r\n      fields: {\r\n        isLoggedIn() {\r\n          return isLoggedInVar();\r\n        },\r\n        allPosts: concatPagination(),\r\n      },\r\n    },\r\n  },\r\n  possibleTypes: {\r\n    Node: [\r\n      'Client',\r\n    ],\r\n    AttendeesAllResult: ['AttendeesAll', 'ErrorMessage'],\r\n  },\r\n});\r\n\r\nexport const isLoggedInVar = cache.makeVar<boolean>(\r\n  !!localStorage.getItem(AUTH_TOKEN),\r\n);\r\nexport const cartItemsVar = cache.makeVar<string[]>([]);\r\nexport const getLoginLoadingVar = cache.makeVar(false);\r\nexport const resetInfoVar = cache.makeVar({} as any);\r\nexport const registerInfoVar = cache.makeVar({} as any);\r\nexport const userInfoVar = cache.makeVar({} as any);","E:\\workspace\\qpjoy\\cra-workbox\\src\\utils\\constants.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\apollo\\apollo-set-server.tsx",["77","78","79"],"import { ApolloClient, HttpLink, ApolloLink } from \"@apollo/client\";\r\nimport { onError } from \"@apollo/client/link/error\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { RetryLink } from \"@apollo/client/link/retry\";\r\n\r\nimport { getIn } from \"@/utils/index\";\r\nimport { cache } from \"./cache\";\r\n\r\nexport function apolloSetClient(options: any) {\r\n  const { api } = options;\r\n  const client = new ApolloClient({\r\n    cache,\r\n    link: ApolloLink.from([\r\n      onError((error) => {\r\n        const { graphQLErrors, networkError } = error;\r\n        if (graphQLErrors) {\r\n          for (let err of graphQLErrors) {\r\n            const { message, locations, path } = err;\r\n            const errcode = getIn(err, \"extensions\", \"errcode\");\r\n            if (errcode && (errcode === 1029 || errcode === 1028)) {\r\n              console.log(\"token校验过期！\");\r\n            }\r\n          }\r\n        }\r\n        if (networkError) {\r\n          console.log(`[Network error]: ${networkError}`);\r\n        }\r\n      }),\r\n      new RetryLink({\r\n        delay: {\r\n          initial: 300,\r\n          max: Infinity,\r\n          jitter: true,\r\n        },\r\n        attempts: (count, operation, error) => {\r\n          console.log(`第${count}次重试${operation.operationName}`);\r\n          return [\"QueryTeamInvite\", \"QueryTeamInfo\"].indexOf(\r\n            operation.operationName\r\n          ) > -1\r\n            ? count < 6\r\n            : !!error && count < 3;\r\n        },\r\n      }),\r\n\r\n      setContext((_, { headers }) => {\r\n        let token = \"\";\r\n        return {\r\n          headers: {\r\n            ...headers,\r\n            authorization: token ? `Bearer ${token}` : \"\",\r\n          },\r\n        };\r\n      }),\r\n\r\n      new HttpLink({\r\n        uri: api,\r\n      }),\r\n    ]),\r\n  });\r\n\r\n  return client;\r\n}\r\n","E:\\workspace\\qpjoy\\cra-workbox\\src\\utils\\index.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\Loading\\Dotdotdot.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\router.tsx",["80","81"],"E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\SuspenseBox\\index.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\components\\LayoutBox\\index.tsx",["82"],"import React, { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\n\r\nconst LayoutBox = (props: any) => {\r\n  const { history } = props;\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  return <div className=\"LayoutBox\">{props.children}</div>;\r\n};\r\n\r\nexport default withRouter(LayoutBox);\r\n","E:\\workspace\\qpjoy\\cra-workbox\\src\\pages\\404\\index.tsx",[],"E:\\workspace\\qpjoy\\cra-workbox\\src\\pages\\landing\\login\\editorLogin\\index.tsx",["83","84","85","86","87"],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":24,"column":6,"nodeType":"94","endLine":24,"endColumn":8,"suggestions":"95"},{"ruleId":"96","severity":1,"message":"97","line":2,"column":44,"nodeType":"98","messageId":"99","endLine":2,"endColumn":53},{"ruleId":"96","severity":1,"message":"100","line":3,"column":3,"nodeType":"98","messageId":"99","endLine":3,"endColumn":12},{"ruleId":"96","severity":1,"message":"101","line":18,"column":21,"nodeType":"98","messageId":"99","endLine":18,"endColumn":28},{"ruleId":"96","severity":1,"message":"102","line":18,"column":30,"nodeType":"98","messageId":"99","endLine":18,"endColumn":39},{"ruleId":"96","severity":1,"message":"103","line":18,"column":41,"nodeType":"98","messageId":"99","endLine":18,"endColumn":45},{"ruleId":"96","severity":1,"message":"104","line":1,"column":27,"nodeType":"98","messageId":"99","endLine":1,"endColumn":31},{"ruleId":"96","severity":1,"message":"105","line":12,"column":11,"nodeType":"98","messageId":"99","endLine":12,"endColumn":21},{"ruleId":"96","severity":1,"message":"106","line":6,"column":11,"nodeType":"98","messageId":"99","endLine":6,"endColumn":18},{"ruleId":"96","severity":1,"message":"107","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":25},{"ruleId":"96","severity":1,"message":"108","line":1,"column":27,"nodeType":"98","messageId":"99","endLine":1,"endColumn":34},{"ruleId":"96","severity":1,"message":"109","line":1,"column":36,"nodeType":"98","messageId":"99","endLine":1,"endColumn":46},{"ruleId":"96","severity":1,"message":"97","line":1,"column":48,"nodeType":"98","messageId":"99","endLine":1,"endColumn":57},{"ruleId":"96","severity":1,"message":"110","line":1,"column":59,"nodeType":"98","messageId":"99","endLine":1,"endColumn":61},"no-native-reassign",["111"],"no-negated-in-lhs",["112"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: '_client'. Either include it or remove the dependency array.","ArrayExpression",["113"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'Reference' is defined but never used.","'message' is assigned a value but never used.","'locations' is assigned a value but never used.","'path' is assigned a value but never used.","'lazy' is defined but never used.","'commonInfo' is assigned a value but never used.","'history' is assigned a value but never used.","'useState' is defined but never used.","'useMemo' is defined but never used.","'useContext' is defined but never used.","'FC' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"114","fix":"115"},"Update the dependencies array to be: [_client]",{"range":"116","text":"117"},[608,610],"[_client]"]